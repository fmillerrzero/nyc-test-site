<!DOCTYPE html>
<html>
<head>
    <title>NYC ODCV Opportunity Rankings | R-Zero</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="description" content="NYC building ODCV savings rankings - 585 buildings analyzed for energy efficiency opportunities">
    <meta name="keywords" content="ODCV, NYC buildings, energy efficiency, LL97 compliance, building automation">
    <style>
        :root {
            --rzero-primary: #0066cc;
            --rzero-primary-dark: #0052a3;
            --rzero-light-blue: #f0f7fa;
            --rzero-background: #ffffff;
        }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: #ffffff; 
        }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 0 7.5%; }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 118, 157, 0.08);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .logo-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        h1 { 
            color: var(--rzero-primary); 
            margin: 0;
            font-size: 2.5em;
            font-weight: 700;
        }
        
        .subtitle { 
            color: #666; 
            margin: 10px 0 0 0;
            font-size: 1.1em;
        }
        
        .stats { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        
        .stat { text-align: center; padding: 20px; background: #f8f9fa; border-radius: 8px; }
        .stat-card { padding: 15px; }
        .stat-value { font-size: 1.8em; font-weight: bold; color: var(--rzero-primary); }
        .stat-label { font-size: 0.9em; color: #666; }
        .big { font-size: 2.5em; font-weight: bold; color: var(--rzero-primary); }
        
        .clickable-link { color: var(--rzero-primary); text-decoration: none; cursor: pointer; }
        .clickable-link:hover { text-decoration: underline; }
        .portfolio-box { 
            background: white;
            border: 1px solid rgba(0, 118, 157, 0.2);
            padding: 30px; 
            border-radius: 12px; 
            margin-bottom: 30px; 
        }
        
        .portfolio-box h2 { 
            color: var(--rzero-primary); 
            margin-top: 0; 
        }
        
        .portfolio-tile:not(.selected):hover {
            background-color: rgba(0, 118, 157, 0.08) !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 118, 157, 0.2);
        }
        
        .portfolio-tile.selected {
            background-color: rgba(0, 118, 157, 0.15) !important;
            border: 3px solid var(--rzero-primary) !important;
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.3), 0 8px 20px rgba(0, 118, 157, 0.4) !important;
            transform: translateY(-3px) scale(1.02);
            position: relative;
        }
        
        /* Aggressively prevent any checkmarks */
        .portfolio-tile.selected::after,
        .portfolio-tile.selected::before,
        .portfolio-tile::after,
        .portfolio-tile::before,
        .portfolio-tile *::after,
        .portfolio-tile *::before {
            display: none !important;
            content: none !important;
            visibility: hidden !important;
        }
        
        /* Enhanced Savings Styling from Prospector */
        .savings-high {
            color: #1b5e20;
            font-weight: 700;
            position: relative;
        }
        
        .savings-high::before {
            content: '★';
            position: absolute;
            left: -15px;
            color: #ffc107;
        }
        
        .savings-medium {
            color: #f57c00;
            font-weight: 600;
        }
        
        .savings-low {
            color: #616161;
        }
        
        tr:nth-child(-n+10) .savings-high {
            background: linear-gradient(90deg, transparent 0%, rgba(76, 175, 80, 0.1) 50%, transparent 100%);
            padding: 4px 8px;
            border-radius: 4px;
        }
        
        .clickable-row { cursor: pointer; }
        .clickable-row:hover { background-color: rgba(0, 118, 157, 0.05); }
        .rzero-badge { display: inline-block; background: var(--rzero-primary); color: white; padding: 3px 8px; border-radius: 20px; font-size: 0.75em; font-weight: 600; }
        
        /* Enhanced styling from Prospector */
        .info-box { 
            background: #f8f8f8;
            border: 1px solid #ddd;
            padding: 15px; 
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .info-box h2 { 
            color: var(--rzero-primary); 
            margin-top: 0; 
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        details summary {
            list-style: none;
            cursor: pointer;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        details summary::-webkit-details-marker {
            display: none;
        }

        details[open] summary span:last-child {
            transform: rotate(180deg);
            display: inline-block;
        }

        details summary span:last-child {
            transition: transform 0.3s ease;
            display: inline-block;
        }
        
        .portfolio-box { 
            background: white;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .table-wrapper::-webkit-scrollbar { width: 12px; }
        .table-wrapper::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 6px; }
        .table-wrapper::-webkit-scrollbar-thumb { background: var(--rzero-primary); border-radius: 6px; }
        .table-wrapper::-webkit-scrollbar-thumb:hover { background: var(--rzero-primary-dark); }
        td { padding: 10px; border-bottom: 1px solid #eee; vertical-align: middle; }
        tbody tr:hover { background: rgba(0, 118, 157, 0.02); transition: background 0.2s ease; }
        
        table { 
            width: 100%; 
            background: white; 
            border-collapse: collapse; 
            box-shadow: 0 4px 20px rgba(0, 118, 157, 0.08);
            border-radius: 12px;
            overflow: hidden;
        }
        
        th { 
            background: var(--rzero-primary); 
            color: white; 
            padding: 10px 8px; 
            text-align: left; 
            cursor: pointer; 
            font-weight: 600;
        }
        
        th:hover { background: var(--rzero-primary-dark); }
        .thumb-cell { width: 80px; padding: 5px !important; text-align: center; }
        tr:nth-child(even) { background-color: rgba(0, 118, 157, 0.01); }
        
        @media (max-width: 768px) {
            .stats { grid-template-columns: 1fr; }
            .container { padding: 0 5%; }
            th { font-size: 12px; padding: 8px 4px; }
            td { font-size: 12px; padding: 6px 4px; }
            .portfolio-tile { min-height: 80px !important; }
            #backToTop { bottom: 20px; right: 20px; }
        }
        
        /* Hide sort indicators by default */
        .sort-indicator { opacity: 0.5; }
        th:hover .sort-indicator { opacity: 1; }
        
        td { padding: 10px; border-bottom: 1px solid #eee; }
        tr:hover { background: #f5f5f5; }
        a { color: var(--rzero-primary); text-decoration: none; font-weight: 500; }
        a:hover { text-decoration: underline; }
        .building-thumb { width: 70px; height: 70px; object-fit: cover; border-radius: 8px; cursor: pointer; }
        .no-thumb { 
            width: 70px; 
            height: 70px; 
            background: #f8f9fa; 
            border: 1px solid rgba(0, 118, 157, 0.2);
            border-radius: 8px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: #999;
            font-size: 10px;
            text-align: center;
        }
        
        @media print {
            .header { background: white !important; box-shadow: none !important; }
            .portfolio-box, #occupancyChartSlim, #backToTop, button { display: none !important; }
            .table-wrapper { max-height: none !important; overflow: visible !important; }
            table { box-shadow: none !important; }
            th { background: #f0f0f0 !important; color: black !important; }
            a { color: black !important; text-decoration: none !important; }
            .building-thumb { max-width: 50px !important; max-height: 50px !important; }
        }
        
        .yes { color: #38a169; font-weight: bold; }
        .no { color: #c41e3a; font-weight: bold; }
        .urgent { color: #c41e3a; font-weight: bold; }
        .bas { color: #38a169; font-weight: 600; }
        .no-bas { color: #c41e3a; font-weight: 600; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-header">
                <a href="https://rzero.com" target="_blank">
                    <img src="https://rzero.com/wp-content/uploads/2021/10/rzero-logo-pad.svg" alt="R-Zero Logo" style="width: 200px; height: 50px;">
                </a>
            </div>
            <h1>Prospector: NYC</h1>
            <p class="subtitle">ODCV Opportunity Rankings</p>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" style="color: #2e7d32;">$17.7M</div>
                <div class="stat-label">Year One Savings</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" style="color: #c41e3a;">32</div>
                <div class="stat-label">Buildings facing $14.5M 2026 LL97 Penalties</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">470</div>
                <div class="stat-label">Buildings with BAS</div>
            </div>
        </div>
        

        
        <div class="portfolio-box">
            <h2>Top Portfolios</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                <div class="portfolio-tile" onclick="filterByOwner('Vornado Realty Trust')" style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 1px solid rgba(0, 118, 157, 0.2); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; min-height: 100px;">
                    <img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/Logos/Vornado_Realty_Trust.png" alt="Vornado Realty Trust" style="position: absolute; top: 10px; right: 15px; max-height: 60px; max-width: 120px; opacity: 0.8;">
                    <strong style="color: var(--rzero-primary); display: block; margin-bottom: 5px;">Vornado Realty Trust</strong>
                    <span style="color: #666;">42 buildings • $1.1M savings</span>
                </div>
                <div class="portfolio-tile" onclick="filterByOwner('SL Green Realty')" style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 1px solid rgba(0, 118, 157, 0.2); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; min-height: 100px;">
                    <img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/Logos/SL_Green_Realty.png" alt="SL Green Realty" style="position: absolute; top: 15px; right: 15px; max-height: 40px; max-width: 80px; opacity: 0.8;">
                    <strong style="color: var(--rzero-primary); display: block; margin-bottom: 5px;">SL Green Realty</strong>
                    <span style="color: #666;">26 buildings • $1.7M savings</span>
                </div>
                <div class="portfolio-tile" onclick="filterByOwner('Kaufman Organization')" style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 1px solid rgba(0, 118, 157, 0.2); cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; min-height: 100px;">
                    <img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/Logos/Kaufman_Organization.png" alt="Kaufman Organization" style="position: absolute; top: 15px; right: 15px; max-height: 40px; max-width: 80px; opacity: 0.8;">
                    <strong style="color: var(--rzero-primary); display: block; margin-bottom: 5px;">Kaufman Organization</strong>
                    <span style="color: #666;">23 buildings • $0.0M savings</span>
                </div>
            </div>
        </div>

        
        <div style="background: #f8f8f8; border: 1px solid #ddd; padding: 15px; margin-bottom: 20px; border-radius: 8px;">
            <details>
                <summary style="cursor: pointer; font-size: 1.5em; color: var(--rzero-primary); font-weight: 600; padding: 10px 0; list-style: none;">
                    NYC Office Occupancy <span style="font-size: 0.8em; transition: transform 0.3s; display: inline-block;">▼</span>
                </summary>
                <div style="margin-top: 15px;">
                    <div style="display: flex; gap: 25px; font-size: 0.95em; margin-bottom: 20px; justify-content: center;">
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 20px; height: 3px; background: #5B6FED; border-radius: 2px;"></div>
                            <span>NYC: <strong>76%</strong></span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 20px; height: 3px; background: #FF6B6B; border-radius: 2px;"></div>
                            <span>US Avg: <strong>66%</strong></span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <div style="width: 20px; height: 3px; background: #4ECDC4; border-radius: 2px;"></div>
                            <span>SF: <strong>47%</strong></span>
                        </div>
                    </div>
                    <div style="height: 220px; position: relative;">
                        <canvas id="occupancyChartSlim"></canvas>
                    </div>
                </div>
            </details>
        </div>
        
        <div style="background: #f8f8f8; border: 1px solid #ddd; padding: 15px; margin-bottom: 20px;">
            <details>
                <summary style="cursor: pointer; font-size: 1.5em; color: var(--rzero-primary); font-weight: 600; padding: 10px 0;">
                    Behind the Rankings <span style="font-size: 0.8em; transition: transform 0.3s; display: inline-block;">▼</span>
                </summary>
                <div style="margin-top: 15px;">
                    <p>Buildings are ranked by <strong>SALES READINESS</strong>, not just savings amount. The scoring system (110 points total):</p>
                    <ul style="line-height: 1.8;">
                        <li><strong>Financial Impact (40 pts):</strong> ODCV savings & LL97 penalty avoidance</li>
                        <li><strong>BAS Infrastructure (30 pts):</strong> No BAS = 0 points (major barrier to sale)</li>
                        <li><strong>Owner Portfolio (20 pts):</strong> Large portfolios score higher (one pitch → multiple buildings)</li>
                        <li><strong>Implementation Ease (10 pts):</strong> Fewer tenants + larger floors = easier installation</li>
                        <li><strong>Prestige Factors (10 pts):</strong> LEED certification, Energy Star ambitions, Class A buildings</li>
                    </ul>
                    <p style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 15px; border: 1px solid #ffeeba;">
                        <strong>Example:</strong> A building with $1.4M savings but no BAS ranks #123, while a $539K building with perfect infrastructure ranks #1. Focus on the ready buyers!
                    </p>
                </div>
            </details>
        </div>
        
        <div style="display: flex; gap: 10px; margin-bottom: 20px; align-items: center;">
            <input type="text" id="search" onkeyup="filterTable()" placeholder="Search by address, owner, property manager" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
            <button id="clearFilterBtn" onclick="clearAllFilters()" style="background: #e0e0e0; color: #999; border: none; padding: 10px 25px; border-radius: 8px; cursor: not-allowed; font-size: 16px; font-weight: 600; transition: all 0.2s;" disabled>
                Clear Filter
            </button>
            <button onclick="exportToCSV()" style="background: #38a169; color: white; border: none; padding: 10px 25px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600;">
                Export CSV
            </button>
        </div>
        
        <div id="resultCounter" style="background: #f8f9fa; padding: 10px 15px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; color: #666;">
            Showing <span id="visibleCount">5</span> of <span id="totalCount">5</span> buildings
        </div>
        
        <div class="table-wrapper" style="overflow-x: auto; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 118, 157, 0.08); position: relative; max-height: calc(100vh - 200px); overflow-y: auto;">
        <table id="buildingTable" style="width: 100%; background: white; border-collapse: collapse; min-width: 900px;">
        <thead style="position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
        <tr>
            <th class="thumb-cell">Image</th>
            <th onclick="sortTable(1)" style="cursor: pointer;">Rank <span class="sort-indicator">↕</span></th>
            <th onclick="sortTable(2)" style="cursor: pointer;">Building <span class="sort-indicator">↕</span></th>
            <th onclick="sortTable(3)" style="cursor: pointer;">Owner <span class="sort-indicator">↕</span></th>
            <th onclick="sortTable(4)" style="cursor: pointer;">Manager <span class="sort-indicator">↕</span></th>
            <th onclick="sortTable(5)" style="cursor: pointer;">Annual ODCV Savings <span class="sort-indicator">↕</span></th>
            <th onclick="sortTable(6)" style="cursor: pointer;">Score <span class="sort-indicator">↕</span></th>
            <th>Details</th>
        </tr>
        </thead>
        <tbody>

        <tr data-search="1472 broadway, new york, ny 10036 | 1472 broadway | 141 w 42 st | 143 w 42 st | 145 w 42 st | 147 w 42 st | 149 w 42 st | 151 w 42 st | 153 w 42 st | 155 w 42 st | 157 w 42 st | 1472 broadway | 1474 broadway | 1476 broadway | 1478 broadway | 1480 broadway | 1482 broadway | 1484 broadway | 1486 broadway | 1488 broadway | 1490 broadway | 4 times sq | 138 w 43 st | 140 w 43 st | 142 w 43 st | 144 w 43 st | 146 w 43 st | 148 w 43 st | 150 w 43 st | 152 w 43 st | 154 w 43 st | 156 w 43 st | 158 w 43 st | durst organization | durst organization | 1009950005 | durst organization" data-occupancy="70" class="clickable-row" onclick="if (!event.target.closest('a')) window.location.href='1009950005.html'">
            <td><img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/images/1009950005/1009950005_hero_thumbnail.jpg" 
                     alt="1472 Broadway" 
                     class="building-thumb" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                     onclick="window.location.href='1009950005.html'">
                <div class="no-thumb" style="display:none;" onclick="window.location.href='1009950005.html'">No image</div></td>
            <td><span class="rzero-badge">#1</span></td>
            <td>1472 Broadway</td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByOwner('Durst Organization')" class="clickable-link">Durst Organization</a></td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByManager('Durst Organization')" class="clickable-link">Durst Organization</a></td>
            <td class="savings-high" data-value="539290.0599999999">$539,290</td>
            <td>98.0</td>
            <td style="text-align: center;">
                <span style="color: var(--rzero-primary);">→</span>
            </td>
        </tr>
    
        <tr data-search="100 gold st, new york, ny 10038 | 100 gold st | 96 gold st | 98 gold st | 100 gold st | 102 gold st | 96-102 gold st | city of new york | dcas | 1000940025 | city of new york" data-occupancy="70" class="clickable-row" onclick="if (!event.target.closest('a')) window.location.href='1000940025.html'">
            <td><img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/images/1000940025/1000940025_hero_thumbnail.jpg" 
                     alt="100 Gold St" 
                     class="building-thumb" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                     onclick="window.location.href='1000940025.html'">
                <div class="no-thumb" style="display:none;" onclick="window.location.href='1000940025.html'">No image</div></td>
            <td><span class="rzero-badge">#2</span></td>
            <td>100 Gold St</td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByOwner('City of New York')" class="clickable-link">City of New York</a></td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByManager('DCAS')" class="clickable-link">DCAS</a></td>
            <td class="savings-medium" data-value="181235.01999999996">$181,235</td>
            <td>97.0</td>
            <td style="text-align: center;">
                <span style="color: var(--rzero-primary);">→</span>
            </td>
        </tr>
    
        <tr data-search="1515 broadway, new york, ny 10036 | 1515 broadway | 200 w 45 st | 1507 broadway | 1509 broadway | 1511 broadway | 1513 broadway | 1515 broadway | 1517 broadway | 1519 broadway | 1521 broadway | 201 w 44 st | 203 w 44 st | 205 w 44 st | 207 w 44 st | 209 w 44 st | 211 w 44 st | 213 w 44 st | 215 w 44 st | 217 w 44 st | 219 w 44 st | 1523 broadway | 1525 broadway | 1 astor plaza | sl green realty | sl green realty | 1010160036 | sl green" data-occupancy="70" class="clickable-row" onclick="if (!event.target.closest('a')) window.location.href='1010160036.html'">
            <td><img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/images/1010160036/1010160036_hero_thumbnail.jpg" 
                     alt="1515 Broadway" 
                     class="building-thumb" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                     onclick="window.location.href='1010160036.html'">
                <div class="no-thumb" style="display:none;" onclick="window.location.href='1010160036.html'">No image</div></td>
            <td><span class="rzero-badge">#3</span></td>
            <td>1515 Broadway</td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByOwner('SL Green Realty')" class="clickable-link">SL Green Realty</a></td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByManager('SL Green Realty')" class="clickable-link">SL Green Realty</a></td>
            <td class="savings-high" data-value="651112.0099999999">$651,112</td>
            <td>96.7</td>
            <td style="text-align: center;">
                <span style="color: var(--rzero-primary);">→</span>
            </td>
        </tr>
    
        <tr data-search="1290 ave of the americas, new york, ny 10104 | 1290 ave of the americas | 38 w 52 st | 40 w 52 st | 42 w 52 st | 44 w 52 st | 46 w 52 st | 48 w 52 st | 50 w 52 st | 52 w 52 st | 54 w 52 st | 56 w 52 st | 58 w 52 st | 60 w 52 st | 62 w 52 st | 64 w 52 st | 66 w 52 st | 68 w 52 st | 70 w 52 st | 72 w 52 st | 74 w 52 st | 1280 ave of the americas | 1282 ave of the americas | 1284 ave of the americas | 1286 ave of the americas | 1288 ave of the americas | 1290 ave of the americas | 1292 ave of the americas | 1294 ave of the americas | 1296 ave of the americas | 31 w 51 st | 33 w 51 st | 35 w 51 st | 37 w 51 st | 39 w 51 st | 41 w 51 st | 43 w 51 st | 45 w 51 st | 47 w 51 st | 49 w 51 st | 51 w 51 st | 53 w 51 st | 55 w 51 st | 57 w 51 st | 59 w 51 st | 61 w 51 st | 63 w 51 st | 65 w 51 st | 67 w 51 st | 69 w 51 st | 71 w 51 st | 73 w 51 st | vornado realty trust | cushman & wakefield | 1012670001 | vornado" data-occupancy="70" class="clickable-row" onclick="if (!event.target.closest('a')) window.location.href='1012670001.html'">
            <td><img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/images/1012670001/1012670001_hero_thumbnail.jpg" 
                     alt="1290 Ave Of The Americas" 
                     class="building-thumb" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                     onclick="window.location.href='1012670001.html'">
                <div class="no-thumb" style="display:none;" onclick="window.location.href='1012670001.html'">No image</div></td>
            <td><span class="rzero-badge">#4</span></td>
            <td>1290 Ave Of The Americas</td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByOwner('Vornado Realty Trust')" class="clickable-link">Vornado Realty Trust</a></td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByManager('Cushman & Wakefield')" class="clickable-link">Cushman & Wakefield</a></td>
            <td class="savings-high" data-value="1090509.21">$1,090,509</td>
            <td>96.6</td>
            <td style="text-align: center;">
                <span style="color: var(--rzero-primary);">→</span>
            </td>
        </tr>
    
        <tr data-search="245 park ave, new york, ny 10167 | 245 park ave | 482 lexington ave | 484 lexington ave | 486 lexington ave | 488 lexington ave | 490 lexington ave | 492 lexington ave | 494 lexington ave | 496 lexington ave | 121 e 46 st | 480 lexington ave | 101 e 46 st | 103 e 46 st | 105 e 46 st | 107 e 46 st | 109 e 46 st | 111 e 46 st | 113 e 46 st | 115 e 46 st | 117 e 46 st | 119 e 46 st | 125 e 46 st | 108 e 47 st | 245a park ave | 118 e 47 st | 247 park ave | 249 park ave | 251 park ave | 253 park ave | 255 park ave | 257 park ave | 480a lexington ave | 112 e 47 st | 245 park ave | 100 e 47 st | 102 e 47 st | 104 e 47 st | 106 e 47 st | sl green realty | sl green realty | 1013010001 | sl green" data-occupancy="70" class="clickable-row" onclick="if (!event.target.closest('a')) window.location.href='1013010001.html'">
            <td><img src="https://raw.githubusercontent.com/fmillerrzero/nyc-test-site/main/images/1013010001/1013010001_hero_thumbnail.jpg" 
                     alt="245 Park Ave" 
                     class="building-thumb" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                     onclick="window.location.href='1013010001.html'">
                <div class="no-thumb" style="display:none;" onclick="window.location.href='1013010001.html'">No image</div></td>
            <td><span class="rzero-badge">#5</span></td>
            <td>245 Park Ave</td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByOwner('SL Green Realty')" class="clickable-link">SL Green Realty</a></td>
            <td><a href="javascript:void(0)" onclick="event.stopPropagation(); filterByManager('SL Green Realty')" class="clickable-link">SL Green Realty</a></td>
            <td class="savings-high" data-value="782678.02">$782,678</td>
            <td>95.9</td>
            <td style="text-align: center;">
                <span style="color: var(--rzero-primary);">→</span>
            </td>
        </tr>
    
        </tbody>
        </table>
        </div>
    </div>
    
    <script>
    // Global variable to track filter state
    var activeOwnerFilter = null;
    
    // Define filter functions early so they're available for onclick handlers
    function filterByOwner(ownerName) {
        // Check if this owner is already selected
        const isAlreadySelected = activeOwnerFilter === ownerName;
        
        if (isAlreadySelected) {
            // Unselect: clear filter and show all buildings
            activeOwnerFilter = null;
            
            // Clear search bar
            document.getElementById('search').value = '';
            
            // Remove selection styling
            document.querySelectorAll('.portfolio-tile').forEach(tile => {
                tile.classList.remove('selected');
            });
            
            // Show all rows
            const rows = document.querySelectorAll('#buildingTable tbody tr');
            rows.forEach(row => {
                row.style.display = '';
            });
            updateResultCounter(rows.length);
        } else {
            // Select: apply filter
            activeOwnerFilter = ownerName;
            
            // Populate search bar with owner name
            document.getElementById('search').value = ownerName;
            
            // Remove previous selection styling
            document.querySelectorAll('.portfolio-tile').forEach(tile => {
                tile.classList.remove('selected');
            });
            
            // Add selection styling to clicked tile
            document.querySelectorAll('.portfolio-tile').forEach(tile => {
                if (tile.querySelector('strong') && tile.querySelector('strong').textContent === ownerName) {
                    tile.classList.add('selected');
                }
            });
            
            // Filter rows
            const rows = document.querySelectorAll('#buildingTable tbody tr');
            let visibleCount = 0;
            rows.forEach(row => {
                const ownerCell = row.cells[3];
                const isMatch = ownerCell && ownerCell.textContent.trim() === ownerName;
                row.style.display = isMatch ? '' : 'none';
                if (isMatch) visibleCount++;
            });
            updateResultCounter(visibleCount);
        }
        
        updateClearButtonState();
    }
    
    function filterByManager(managerName) {
        // Update active filter to track manager filters too
        activeOwnerFilter = managerName;
        
        // Populate search bar with manager name
        document.getElementById('search').value = managerName;
        
        // Remove active styling from portfolio tiles
        document.querySelectorAll('.portfolio-tile').forEach(tile => {
            tile.classList.remove('selected');
        });
        
        const rows = document.querySelectorAll('#buildingTable tbody tr');
        let visibleCount = 0;
        rows.forEach(row => {
            const managerCell = row.cells[4];
            const isMatch = managerCell && managerCell.textContent.trim() === managerName;
            row.style.display = isMatch ? '' : 'none';
            if (isMatch) visibleCount++;
        });
        updateResultCounter(visibleCount);
        updateClearButtonState();
    }
    
    // Search functionality
    function filterTable() {
        const input = document.getElementById('search').value.toLowerCase();
        const rows = document.querySelectorAll('#buildingTable tbody tr');
        
        rows.forEach(row => {
            const searchText = row.getAttribute('data-search');
            const matchesSearch = searchText && searchText.includes(input);
            row.style.display = matchesSearch ? '' : 'none';
        });
        
        updateClearButtonState();
    }
    
    // Update result counter
    function updateResultCounter(count) {
        document.getElementById('visibleCount').textContent = count;
    }
    
    function updateClearButtonState() {
        const btn = document.getElementById('clearFilterBtn');
        const searchBox = document.getElementById('search');
        const hasActiveFilter = (searchBox.value.trim() !== '') || (activeOwnerFilter !== null);
        
        if (hasActiveFilter) {
            btn.disabled = false;
            btn.style.background = '#c41e3a';
            btn.style.color = 'white';
            btn.style.cursor = 'pointer';
            btn.onmouseover = function() { this.style.background='#a01729'; };
            btn.onmouseout = function() { this.style.background='#c41e3a'; };
        } else {
            btn.disabled = true;
            btn.style.background = '#e0e0e0';
            btn.style.color = '#999';
            btn.style.cursor = 'not-allowed';
            btn.onmouseover = null;
            btn.onmouseout = null;
        }
    }
    
    function clearAllFilters() {
        // Clear search box
        document.getElementById('search').value = '';
        
        // Reset active filter
        activeOwnerFilter = null;
        
        // Show all rows
        const rows = document.querySelectorAll('#buildingTable tbody tr');
        rows.forEach(row => {
            row.style.display = '';
        });
        
        // Remove active styling from portfolio tiles
        document.querySelectorAll('.portfolio-tile').forEach(tile => {
            tile.classList.remove('selected');
        });
        
        // Update button state
        updateClearButtonState();
    }
    
    // Helper to escape quotes in JavaScript strings
    function jsEscape(str) {
        return str.replace(/\\/g, '\\\\').replace(/'/g, "\\'").replace(/"/g, '\\"');
    }
    
    // Export to CSV functionality
    function exportToCSV() {
        const table = document.getElementById('buildingTable');
        const rows = Array.from(table.querySelectorAll('tbody tr')).filter(row => row.style.display !== 'none');
        
        let csv = 'Rank,Building,Owner,Manager,Annual ODCV Savings,Score\n';
        
        rows.forEach(row => {
            const cells = row.cells;
            const rank = cells[1].textContent.replace('#', '');
            const building = cells[2].textContent;
            const owner = cells[3].textContent;
            const manager = cells[4].textContent;
            const savings = cells[5].getAttribute('data-value');
            const score = cells[6].textContent;
            
            csv += `"${rank}","${building}","${owner}","${manager}","${savings}","${score}"
`;
        });
        
        const blob = new Blob([csv], { type: 'text/csv' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'nyc_odcv_rankings.csv';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
    }
    
    // Sortable table functionality
    let sortDir = {};
    function sortTable(col) {
        const tbody = document.querySelector('#buildingTable tbody');
        const rows = Array.from(tbody.querySelectorAll('tr'));
        sortDir[col] = !sortDir[col];
        
        rows.sort((a, b) => {
            let aVal, bVal;
            
            // Use data-value for savings column
            if (col === 5) {
                aVal = parseFloat(a.cells[col].getAttribute('data-value') || 0);
                bVal = parseFloat(b.cells[col].getAttribute('data-value') || 0);
            } else if (col === 1 || col === 6) {
                // Numeric columns
                aVal = parseFloat(a.cells[col].textContent.replace(/[#$,]/g, '') || 0);
                bVal = parseFloat(b.cells[col].textContent.replace(/[#$,]/g, '') || 0);
            } else {
                // Text columns
                aVal = (a.cells[col].textContent || '').toLowerCase();
                bVal = (b.cells[col].textContent || '').toLowerCase();
            }
            
            if (sortDir[col]) {
                return aVal > bVal ? 1 : -1;
            } else {
                return aVal < bVal ? 1 : -1;
            }
        });
        
        tbody.innerHTML = '';
        rows.forEach(row => tbody.appendChild(row));
        
        // Update header arrows
        document.querySelectorAll('th').forEach((th, idx) => {
            if (idx > 0 && idx < 7) {
                th.innerHTML = th.innerHTML.replace(/[↑↓↕]/g, idx === col ? (sortDir[col] ? '↑' : '↓') : '↕');
            }
        });
    }
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateClearButtonState();
        
        // Initialize any portfolio tiles that might be pre-selected
        const urlParams = new URLSearchParams(window.location.search);
        const ownerParam = urlParams.get('owner');
        if (ownerParam) {
            filterByOwner(ownerParam);
        }
        
        // Initialize occupancy chart
        const ctx = document.getElementById('occupancyChartSlim').getContext('2d');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan 20', 'Jul 20', 'Jan 21', 'Jul 21', 'Jan 22', 'Jul 22', 'Jan 23', 'Jul 23', 'Jan 24', 'Jul 24', 'Jan 25', 'Jun 25'],
                datasets: [{
                    label: 'NYC',
                    data: [100, 17, 18, 31, 30, 53, 55, 64, 66, 74, 75, 76],
                    borderColor: '#5B6FED',
                    backgroundColor: '#5B6FED',
                    borderWidth: 3,
                    tension: 0.4,
                    pointRadius: 0,
                    pointHoverRadius: 5
                }, {
                    label: 'National',
                    data: [100, 18, 18, 32, 32, 49, 51, 60, 62, 69, 70, 66],
                    borderColor: '#FF6B6B',
                    backgroundColor: '#FF6B6B',
                    borderWidth: 2,
                    tension: 0.4,
                    pointRadius: 0,
                    pointHoverRadius: 5
                }, {
                    label: 'SF',
                    data: [100, 13, 10, 18, 20, 32, 34, 42, 44, 48, 49, 47],
                    borderColor: '#4ECDC4',
                    backgroundColor: '#4ECDC4',
                    borderWidth: 2,
                    tension: 0.4,
                    pointRadius: 0,
                    pointHoverRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: '#fff',
                        bodyColor: '#fff',
                        borderColor: '#ddd',
                        borderWidth: 1,
                        cornerRadius: 4,
                        padding: 8,
                        displayColors: true,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y + '%';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 11
                            }
                        }
                    },
                    y: {
                        min: 0,
                        max: 100,
                        ticks: {
                            stepSize: 25,
                            callback: function(value) {
                                return value + '%';
                            },
                            font: {
                                size: 11
                            },
                            color: '#666'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    }
                },
                interaction: {
                    mode: 'nearest',
                    axis: 'x',
                    intersect: false
                }
            }
        });
    });
    
    // Back to top functionality
    function scrollToTop() {
        window.scrollTo({top: 0, behavior: 'smooth'});
    }
    
    // Show/hide back to top button
    window.onscroll = function() {
        const btn = document.getElementById('backToTop');
        if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
            btn.style.display = 'block';
        } else {
            btn.style.display = 'none';
        }
    };
    
    
    // Fetch ALL aerial video URLs and store in sessionStorage
    async function fetchAllAerialVideos() {
        const API_KEY = 'AIzaSyDQdR4xY0a_qmEsYairsp6r6tXwh5qx_ho';
        console.log('Fetching all aerial video URLs...');
        
        // Complete mapping from aerial_videos.csv
        const aerialVideos = {
            1000090014: 'wJql3ZGi_K9jUolEQJ4qPt',
            1000090029: 'pEmc7uTCM_sx1YCcOewv96',
            1000100014: 'DcQ6P1JnMl7AUk0A6vV3sv',
            1000100023: 'yhICKCWVtlmzcRdHYoZU7q',
            1000130001: '60TirLeoxiynVhDBCglxVv',
            1000130005: '79zaCfkDMpuFqoacM9DBgc',
            1000130027: 'D-F-dvcm6Zl6d8qHr700ff',
            1000160260: 'vp8EaH-CqQj3n_HA47lnbD',
            1000200004: 'fJeDptncNamObJOYonNjYJ',
            1000200009: 'hgOQx_tsHZQH8vij_jq98l',
            1000200016: 'QdM7scGeycvCayR0bII0Fg',
            1000210001: 'BJlOJcI2_8mmsv88xdcyBK',
            1000210004: '65i9ad53AnujRjyz2DAVgR',
            1000220013: 'd_fbzbq-A45IOv1t53cGFg',
            1000220017: 'D387WVdFzi9i03jmtemzqi',
            1000220020: 'gypBsoGt338Ko7E77j1bOx',
            1000220024: 'uebB5tS8rD_Jkub7o2ZwQr',
            1000220028: 'vfir54pv2f_HMq7SLkyGES',
            1000240001: 'R8CZhvNSlaZtyo5R3KkAcf',
            1000240029: 'etWUsRYcLUpzwArIt5ku3k',
            1000250001: 'ua6ftPMK7ixLE9fNlDdXC6',
            1000290036: '4ojS6ExXf63fFcsthpluA4',
            1000290070: 'eVeDMhesXvGgLGwdi2cuQj',
            1000290073: 'NwUivIFbhfF1OTDLVrS4jz',
            1000330001: 'CayJMXvB4i8p_kgEvJwZWN',
            1000390012: '_t7Zh7sHxdo4AV24Mx8_Vw',
            1000400003: 'FuE1Mufz9P3r27yOrYzEBK',
            1000400014: 'b_KvlV8Nyy3fAumdJRR-26',
            1000420031: '5APz9Ap-FqFNlNLvl8Jq-V',
            1000430001: '1VO7yAsUWbstrqBltHjK6W',
            1000460001: 'TlynJmWxJuOsdLVfbe-sH5',
            1000460009: 'XWCM6FI49gkvzYaJGRqlK8',
            1000480001: '-KiWVNLRfYGHf7nL-6rmnW',
            1000490002: 'qp0_xG3_gdYYteDK3rV_jH',
            1000510007: '-DGwO8sbZ6-c2A3pbVlDUg',
            1000640012: 'hEm_JSQ3iv-jHC0Xv29O6-',
            1000640015: '7YKupxkVsJW6uJyFiptwpU',
            1000670001: 'qN3FZDw3Yg8ipGxG3pPpd_',
            1000750030: 'YjrRwNEsfEoeILZazWgXcn',
            1000770008: 'tMOjE-4uw0Q5iSZ4ndnfdx',
            1000880001: '5vnwW58I6sVYMTPvu1zGat',
            1000880010: 'BdzFuSsTboVvErPl1eD0jB',
            1000880018: 'frCw_bCutOUhYDZKT6mumt',
            1000920024: 'f4Uo0dDV7Q2Fy9KP6UFU0I',
            1000940025: 'dhptyJliZjNOlARj4bcISP',
            1001190001: 'Jm14zk5671D7wf2Si_KLyg',
            1001210001: '3_RxUl2man3KONt5Hy8mcR',
            1001220001: 'b9Y_pzSN8UKuC9ZLOW2HT4',
            1001240004: '2KA64NrSYDQYWP_QlBg3N5',
            1001270018: 'K8KLMQElSapGd_u_GBWBsm',
            1001480010: 'VpLLwbe-lyI_T42CF0KtYk',
            1001530001: 'K-Y2O_kGiJAx_qAa-TS-cP',
            1001530024: 'nFCDjnD9JNIMOyZe9Gxac_',
            1001540023: 'tvBkVoupxmHCXb5TZOEgXg',
            1001550001: 'oU1edDSubrjn9k5JqSNnjU',
            1001550003: 'cAH9_JByxX25pxqCWJaoeK',
            1001680032: 'KPu9P6b46aoTATp0KUsIZ1',
            1001940042: 'S5vDbzpg5ihQnebTMeKgnl',
            1001960005: 'NpIYjO3vaonagFF2BBJRoe',
            1002210030: 'nKRZv32B2cE-tlF25uq1MW',
            1002320001: 'XOzJqXFNvt2xMlw5OgXWy3',
            1004730001: 'rXFByFDV676hrYbhvu8lEW',
            1004740030: '1Q6lxJpJZA91rBGM908rKv',
            1004820016: 'BwpupMzXY6Z77wn-ldie6C',
            1004860011: '1kLADoK5NRurnCrhKx7mOH',
            1004960036: 'iOY2kayaIPeXlH-3AzcglS',
            1004960040: '42Ny0ENul8N41sD54URuwu',
            1004970001: 'f39iimFDSPQHqQJMuv3MjE',
            1004980009: 'kyVAtF87x72Z2nFoBxNrnz',
            1004980011: 'qZxrBWjZJea_pzWp3olTvF',
            1004990007: 'NMbX5ikbogzOEBK3HzhGSK',
            1005000011: 'f3_xXoOzy-V4YDtOAZK6Yd',
            1005050036: 'LCYPCXJTuA3VDmzGTFwdnb',
            1005100001: '_TdQgEMVcqgMA9BTcMRl1y',
            1005100038: 'R0EPl6BdeklmozphCAKogP',
            1005110001: 'QNcjaoa6J3J7RSsgaMCEMZ',
            1005110006: 'wQJRJ3ruUi3FCNiSvmdEHK',
            1005110008: 'Exon_J52Cw8BuLK0Kdk-V_',
            1005110012: 'PIS24VGtS9ReEq7WZH4JdG',
            1005120015: 'Vy_avydOfVK9hFWlsC8BB0',
            1005220001: 'EhxZsPcFVYUt4ws71Ig0Tf',
            1005230046: 'f8LmwzQDQqkL82ZpPJSZGt',
            1005300001: 'lipw40fPxPa7JcrtdERw1n',
            1005310020: 'htBQBM6ljY6ELb_vVGcGZV',
            1005320015: 'GlGLc6EiwfQu_-W6tnMK2B',
            1005450006: 'WJ4Uk_uAZJ8wqa4v3hvVdU',
            1005450015: 'S29-9i9lqOk2tUPjU9hSln',
            1005450053: 'pKTjpLLQ8Qz2QBgdDSve86',
            1005460021: 'lTvLw3wzNzvCbalHi2yzcg',
            1005460026: 'mK4LaUkUpo_i1zQ2PH3DCX',
            1005480009: 'vDwawjiNUoX570mBT1soV_',
            1005540001: 'LTqPa5Ht94IpA-8efp8EGF',
            1005590016: 'wF9SuFMLNaPRdQ159njK3N',
            1005630001: 'QdFfwNtiLTl1WiC6cQlWIO',
            1005630031: '0TUpuIvgLj3l2ciU-j--NZ',
            1005630046: 'u7cfG86wx6In6eEm64DMpd',
            1005650015: 'y4mwzoBm29KfmkIwyQkiUG',
            1005760046: 'm-ONl8VvRqoF9TBP_0Evue',
            1005770034: 'LNCgMeYYgqBKsoVZP2fXgX',
            1005780047: 'KcEKtOK4Yy3ow4Cn0lczZ8',
            1005810063: '8sbRuOON53rf6TELHtiNt3',
            1005970001: 'ArgXO7DIOgu8VUMNSPF8JK',
            1005970012: '-q479Kfha4UM99OVvm-m3L',
            1005970062: 'eu6n2BXGv47xJbvKhHvlxO',
            1005990064: 'nkozqP-dLruLPj_r6GPzxG',
            1006010047: 'M6JJ8aC_sORrpwIMkPLlvi',
            1006020068: 'OqLYLRu053FB1RIy_fH-Ks',
            1006090007: '3-1CbSlNhutmJvybls_YeX',
            1006450029: '6CHe791fo5D0FHFMSxI0JY',
            1006460001: 't06uUWqrfzsHfVAzdQ8pCK',
            1006460019: 'JVQLNx1i6Z8VSGVXYwB74H',
            1006460027: 'h42uwVhtrqEPjvbcghkf2A',
            1006720001: 'dlML7o-C2UFuZYORnYIy87',
            1006980001: 'VpgQEhBqHs5ZvFzyxNNQU0',
            1007120029: 'owHe2NynnSNwSN4ymCK_5s',
            1007130001: '4gIM8JO_ePy0LBUYPvUDwE',
            1007280060: 'UwCwlGjMCQ4xehIW2ki8Be',
            1007390001: 'sUqVZLmCbVVnQQaiFeHv6R',
            1007570054: 'dIn2u9wnUw7mF-5FyjmklA',
            1007590045: 'jINLGE4-SCuudF1LcviCrH',
            1007600032: '1ohVgIB3xlIiz5k7ZsUj2C',
            1007600055: 'P1-wDSd0H9vcnyiW8nMYi8',
            1007610033: 'YwxWkq_lWb7h70CgjV1wcZ',
            1007620033: '5aV5h-frJVWKgz1XF7VP3v',
            1007660061: '4oJRyP1TMP3KG6QpT9kRNw',
            1007760059: '_tETo1WQGjzJh_rpvR8vuB',
            1007780020: '2YQcxJyVGKd7vWWWpgjrwO',
            1007780043: 'JoFR5EVbRenunUAviGdvSc',
            1007790017: '7Pl_h6NVfa96ebpzSqE3gG',
            1007790041: '3ddCT_b9pvBIn91N25Rto5',
            1007790057: 'sa83tV_mTezjefJx-_LlFh',
            1007790075: 'otc5aIWTfFiTUzbLSSWnrT',
            1007800010: 'l8hClBz8d9GxfQPesm-R6A',
            1007800013: 'MEOJoSIkj9a2p7xAcr-Vsp',
            1007800036: '9GdRrrnVM5QaaspZtO29Am',
            1007800071: 'I8dCNKmavYRjsey5bEN2kY',
            1007830070: '45puADk7b7FPFHxjo4q910',
            1007840041: '2g-EJMEONDfY50GodgZK9q',
            1007840051: 'jWNGKvJwAaCFsayoJ4pHGY',
            1007840060: 'E_SugEB7UXEth7rdYHITWS',
            1007840064: '8iuNaEvLWclfyOyfNLZrn6',
            1007850037: '94fjhKHuughT9wDZMq-vAf',
            1007850041: 'euSr_UMysiN2yTuvZgIlm5',
            1007850067: 'dX9vdUPI9b4V1iHeC8jFDT',
            1007860013: 'IU_KTswc-udlqOP3lPFNwN',
            1007860023: 'GvXM9JNiDm_qAeM5pCTxDn',
            1007860051: 'rSQJqfJ5lXSEUUFiLPLXyS',
            1007860068: 'OYSrrCH6W9ZY_D8wRd6sCF',
            1007870020: 'yIRxrj5OM5bNrTovXGlajd',
            1007870040: 'Eh6v9vV-nDrlPODGh-S2GF',
            1007870044: 'z7fNPxjPg4IrlbiC18RjF7',
            1007870072: 'klINeqPULMsrZQ6SmKK-Uv',
            1007880049: '5mlpcUjcO_vXZOZTJ0M71Z',
            1007890021: 'dm4zgbv_aYK_WsHRm8QJVS',
            1007890036: 'SGv1PNtyzObkkbCrTKIPsW',
            1007890052: 'pehfVuHj1viHJQbcqlK97O',
            1007940017: 'aaYWKYp5EIlwnkAdSO06jN',
            1007940030: 'o4eW_3crT5W7OPVG-XaZCy',
            1007950028: 'k5gMJnjSDD8LmOiv0gNLlV',
            1007950044: '5DrGNcmISbj9LzN57zoGxv',
            1007990012: 'NxecJN4NgstvbHmVfS0WbQ',
            1007990028: 'uIAvRrfGo3hjgDjFhXcE9y',
            1008000065: 'Cu6ezK1N6qBIHoHuKpwZU6',
            1008010001: 'MTSNTn0l5_Nb4WVwqo1Wzm',
            1008010024: 'bRILe_O89mg8QA5FYdFqJW',
            1008010055: 'oTBxQkBXf0_ZjDO2t9Gx27',
            1008020008: 'niuy08uRntMYSiL4t-ojNE',
            1008020056: 'mYZ9g50qknDs2bPxRyBXKg',
            1008020075: 'dtJVAdyXMJvP3Qz3a4x80p',
            1008030021: 'aD4aAuX0uQMaENuD23np6o',
            1008030067: 'EVPgwQdLrK_N7Md2pbDC8_',
            1008040011: 'ldpDmrloyMWVYqrGKnCi6G',
            1008040044: 'sDNfakrToOT9Gyetj2FvkD',
            1008050003: 'nKqPURgAlFzNuGRswlq1KE',
            1008060009: 'Zo_hxO55x7WN6_Fe9zWXyT',
            1008070001: 'qhlAGT0-sOplEYY_6uJPh0',
            1008070039: 'sqlXnvGbn51ArgTL0LLyf2',
            1008080040: 'K3K_0rkHCVFpcC-MKwdcXN',
            1008110021: 'tjEZAEyKn5gCXC8JE1ruId',
            1008110031: 'FJw9_RvO_w6_NdSqmEJIS7',
            1008110051: 'GzKjA00QTewG6VeXPz1XVB',
            1008110056: '9MAAYoOYzb1QBpYUMVIZ07',
            1008120006: 'HnWnV3SmBTyJrkG1558XU8',
            1008120069: 'OK8lx8Q_JNzKqDXCkpYT7A',
            1008130055: 'dB7VWm7cTP7aWTfhcBA2rF',
            1008140046: '_bCQTyGC00b06YCaE4BxSy',
            1008150001: 'm9R9m0dgttmITtUN1_5UKK',
            1008150014: 'G-qjLfuA7Oxkfik4FI263B',
            1008150046: '84SJOHsaiS7h4-ACYXRF_U',
            1008160037: 'zuHCUJhuoSh7_pP5xCYwrA',
            1008190010: 'Yi8t0TIJfHGe3obQ7tgmzl',
            1008190037: 'sWhT_lWU5zsUEZpVppbC-Y',
            1008190039: 'WsYIio6z8LpCxmrKVvro7W',
            1008190056: 'jV6V7yl0-GzYse-mbVF1X5',
            1008200026: '_RQDwjadOFLEMRrY6TNEpJ',
            1008200038: '5MHQlklzq9Znh4-ty0ZWoc',
            1008210014: 'ksUdq-g9mvkM_t9X3OdWsH',
            1008210032: 'rMlYmfwMKg-7LlEp-kUcOq',
            1008210041: '-sy8Fqbyn9JY1i3f-bJwyH',
            1008220015: 'yW5wfIg6y9MB1GdLquapeT',
            1008220031: 'KgY_UFazEIVbiJiuAaqPMv',
            1008220049: '8UttQsUzaRqRpUOIYCgeFZ',
            1008220052: 'srBxUPRhFZk8kP0L1jPOuk',
            1008220070: 'Do8K5uugliapLeindXwFTh',
            1008230024: 'M3qbtfgHwCKd8wALxKgJ5M',
            1008230029: 'nwXJBbqGysh1o6hbPXodZr',
            1008240028: 'GigTDtUBVbmRenhhhjiDHP',
            1008240032: 'qGFkwTGkeuH9Xh_d4KcEmq',
            1008250012: 'xcq93S-FnodI3Iz_ekzn5W',
            1008260026: 'G3WwfcCeXDJCeJSBU_Wb8O',
            1008260046: '1TwE58WM7WXvLc-yn8Yv2o',
            1008260057: 'cKzrf-6wpkEJI6y2zIs-5W',
            1008260065: 'A9co4xRp2Z0tRNWBWGRNTP',
            1008260069: 'FrQGDxtOO2eMwu6sUKEpoO',
            1008280009: '1ndQjdJ7-LuZia3U_RFGby',
            1008280033: 'Igy9xQs-FdvFNHFnLeajuW',
            1008290011: 'bE2ed2qmCWSCCC9bwqsDo8',
            1008290016: 'qmD9XWwor1t0il-3QtZyFm',
            1008290032: '5bpLPxKxZ6qrhA6V0Rx7On',
            1008290036: 'H9lFOIDo4mgYyoR7GdD9IJ',
            1008290068: 'j5o06lLuCtNZCDr77McjJb',
            1008300062: 'O3EeiFhmiJNeBar976JDDv',
            1008320017: 'r_VRCe1HhdxMbnFVbWfdso',
            1008330011: '51qiFyrAiQ-68q81ykFlea',
            1008340049: 'XyR1-yzQFQJYwr5x0KGxGS',
            1008360026: 'nUTAArpUF-1phlpKRtMV7D',
            1008360033: 'bzbLseplQAxB52KD0JkOW9',
            1008360035: 'hywJ9H_VKBDVkaOqmr6kNv',
            1008370036: 'PdLw42XjtHwcgqu2ys5cF-',
            1008380015: '7wsUB1WbKvEBZTXp3hg_fR',
            1008380048: 'TCYUwJya2trV_urNphz97G',
            1008380062: 'UTucTX3nm6tiOW76FjgGXy',
            1008380076: '5uwkXdEFiVmxGIDneURCb6',
            1008390009: 'kl90zrbHWN2yebdnfTge2F',
            1008390019: 'WV_YWtSU0yxxTd24OO3F0n',
            1008390070: 'cJgrqNnsxqvPkKCsTTR-ZI',
            1008400023: 'sGavpEbf1C11ECp_rEsWTL',
            1008400028: 'hShsAA3xiJuZ7Jj1Qw_OXR',
            1008400031: 'ItgqJePAolgG8czui7suxq',
            1008400058: '2PAugxjE2XY2k6FjEYB3b8',
            1008400071: 'J5aihIJoZ4-Y-Ng-hSQzYy',
            1008410018: 'WGwHDOkTHdZmv_0H2ei8Kj',
            1008410031: 'BPf-zo1Wwy_rtaW3So8sVK',
            1008410049: 'Vlmwbr1x4rCE_nRDTDRFh9',
            1008410054: 'vE8BFgk-wfDErrF1c7zod3',
            1008420042: 'iLynXGWRS5DOMWWbZnl_RE',
            1008430045: 'UrJa1E5dz39nclEcoJ5jfw',
            1008440001: 'DpH7g6ithZAuS6Uu2TZv99',
            1008440003: 'vgyMq-ywEHRNnAEIC1KZOw',
            1008440042: '6DdqNiwgTdT05pTlBEJ7kL',
            1008460026: '0fGkC6X5UMkTBB3zlM2zTD',
            1008470040: 'fZaFSKJ9unlJd6uetw1cm5',
            1008490016: 'aHVOb1cgqdaIBPZC2Hb_y6',
            1008490063: 'JVHM10CnmEVriSh7Q658ye',
            1008500001: 'X0-rnagKAeFZ1tco3PU5kH',
            1008510041: 'xUTgeAyh39nyXopLUVFD6r',
            1008550037: '0MfdU27Zv4S5z3uRB3j02R',
            1008560009: '9c-AETZ5s0fBTUeOL3EKMH',
            1008560058: 'sSzI5_LoQr-9TNLWmwg5CB',
            1008570024: 'N4C-6IY5N-6MExlO1JpLb2',
            1008580022: '7-tsBg_Y1YmSbCteqCLZmY',
            1008580049: 'zXtmsr98ibz_iHpqdk4uMM',
            1008590015: 'FWbHhOK3XqqF2brQkbskQi',
            1008590048: 'wbt7KscPz1XAfy7oJih8LS',
            1008590052: 'idJ199YLW1QaE5BjXTptyk',
            1008590064: 'iL-EVf_pYQEsMRK0nKOPPp',
            1008590072: 'Nr5NGND_Jb6YNAKfUTeDUe',
            1008600045: '-AcWbQA2dTb7om9QXqBy-r',
            1008610022: 'i93cRa9ZUQLRaok6SJDGp3',
            1008610047: 't38ZxhE9No9iKQ9yANN_W7',
            1008620026: 'iUoiNCF3-LnTwfExViqIik',
            1008620045: 'nM_SZCjFUh-r0iGbZNztwJ',
            1008630060: 'rCzaoogNGY5aZov5hZ5Rau',
            1008650014: 'e8bdjz-STHc-fWTJJSI42y',
            1008660076: 'mKMOKLg4X-yk1_OveCsqQJ',
            1008680008: '3aoMrht44XYJExPNSHFvPX',
            1008680016: 'SrIYBSUC7jrmFCLayumARI',
            1008680025: 'I3FaKa-5qin7vSeHP4v8CD',
            1008680072: 'euuKKohx1z81OgKXAIRzwl',
            1008690034: '3a1TV4MgVfKzts9U8XIkJZ',
            1008690066: 'Kulh_zC3YRd_6-v3TgIRun',
            1008710003: 'RcMZe9GhZ5FnS3BP_6O1-L',
            1008710060: 'vGGn3Go0GeDsKEHa8dUsXT',
            1008710070: 'asfvh5BHt9YT7Q_XHBGymJ',
            1008720013: 'l93hjlgtdLKEyyxa4anZSf',
            1008730067: 'w2wmoxZBgeIr1xSvgn9Rp-',
            1008760001: 'pjSVV9WCtDAQGEKvZq8P1I',
            1008760006: '-1kegiMRpmgZGm87nxJppN',
            1008780065: '9fiEgeLDGyYwmTjq4zryvX',
            1008790081: 'd6-QVD69W0VfaZFTTH3tzm',
            1008800014: 'o6j_Av6FNu1g5nK8-4mvvd',
            1008800084: 'OFk-F-vE0U1lYd0VJ5ExXs',
            1008810001: 'h0pmDPQsRrWGw3hmZZk_1a',
            1008820076: 'SOKltYAy7V2LFVtcgcRQJQ',
            1008830088: '6YGe2D0eSwy72SetXTlKG6',
            1008860001: '62hW0f4a_hvQsqSYkrF1uE',
            1008870095: 'PkegmIeEM3MxuqmJD1o-MP',
            1009030047: 'WjK-6UVO8WV4Lqfq0H8ni_',
            1009400012: 'S8dQPmQyEedtIR0HLTlAIS',
            1009930001: 'NyVazDmO7fn4QG2CRl9VFK',
            1009930022: 'TEz61OytlFaMNtdAw7wOjN',
            1009930055: 'mOABLL7BmQNXkY_PV4Zmqy',
            1009940001: '6ZFHaW3QXnjX_xmkLdJntS',
            1009960029: 'K0dAxT5rnZ2-Ewjz_2TRZJ',
            1009970041: 'b_az6AmaBHePKJEUP2pQzB',
            1009980012: 'wEMwkiSbP3cCbHFvgY3G20',
            1009990003: 'n4Mdla3ULSXyNT2K-KWTD8',
            1009990019: 'vc8h0Ymjlc2ZlXUkjY7QvC',
            1009990029: 'bzUm4sr2G-G0C4Ddx1XLCq',
            1010030005: 'P2fTE0vvPX1aF6shfKt-ph',
            1010040020: 'xk_WJEGz4WpaEVJKlvGdi0',
            1010040029: 'HBCSUhcSeD2vTwl7xG6kXN',
            1010090005: 'QMDDqJO27vQsBG-u5umgbc',
            1010140033: 'Ma1ek76iRwKo-NIws3ojGy',
            1010150029: 'Q2qaqN22J9EJD96BdN8NBk',
            1010160036: 'Q5sbZw6m-ZXdi275sRT94f',
            1010240015: 'hsyXQO6XfvRRJiREafau1_',
            1010250025: 'z-RKfIU3naxgwdWU1Bpw5i',
            1010270020: 'qsM47yxk2GgYPFL3usMt8p',
            1010280029: 'fEthM3iiY1jSj_OHOM_LBG',
            1010290053: 'd_sFIrRrxasubbnZBQ0itS',
            1010320048: 'h-0pHvfNrXZbIjSxvOfv8Q',
            1010400029: 'WuaCH6pPJ27Rmo2OqNgzC9',
            1010540041: '3JM06zf3_6wsMQl31ipx8r',
            1011020018: 'eC5H7UxEo2i-Eq248xysAp',
            1011050036: 'TAwjuw-4Swr_DJndf3riZx',
            1011130051: 'GDd6Whdyy7ZP10ReVFIXki',
            1012590019: 'fDVerY76GXreU6F7-7Ob9A',
            1012600024: 'iTvoNQGNIGCgWeTxV6sWhv',
            1012600042: '93JEldzegSfSe_kc7k5p_S',
            1012600064: '4E4jzJzJDbewdNLFk9f3b4',
            1012600071: 'Z7Hdvsazs-IbRP0Z5kXovZ',
            1012610016: '7MFLj9uJrjANelppPHGAZJ',
            1012610019: '6fCqoi_2kYvZzjBreHiQK6',
            1012610021: 'Hj0ujaoqncsISWR-JpCbsi',
            1012610030: '9pynTfdzc5Qh2FgJJ-uu3x',
            1012610034: 'WXWONHuNT1nwN4aH_XKuH8',
            1012610036: 'PzfUhdA2GRI22yxK-rDe_y',
            1012610042: '6vw8w0geUTpO0o3cfZsdN0',
            1012620024: 'X4j8WajxReS5u2c4vpW97y',
            1012620048: 'KqoE8BQM3lyqX3C139wgYo',
            1012620054: 'J8oEAej2BX84MhxR-ShDBo',
            1012630038: 'I1fH9vUBOzt_3fWa6Im9SZ',
            1012630051: '6vNT8Sg-CbZIiIBTL7-n92',
            1012640040: '4YXnqvMkCGM5l-tYyNNKxW',
            1012670001: 'FXaXnb8J-ucBj8QGSPaT9F',
            1012670022: '42dumm-rVhoJo_V3BkDyiP',
            1012670034: 'QKwmBm38BOY9df5Ky6Lc1g',
            1012670041: 'RgR2g2xwirpHumOO4eEOyn',
            1012680001: 'EsmEm9jjWRdSgQXhloGdrJ',
            1012700071: 'I4_Hi4k0dTh4ZAv8cG1-6J',
            1012710038: 'Df61X3jm65-Aj1wIPepiAw',
            1012720034: '0QjeGH1owO6g5Z0RjAmy0z',
            1012750001: 'JfZtVKF73GNKmJqB8F3XsX',
            1012750012: 'J3tVKWrZMw8dkXu1XVkVW1',
            1012750014: 'bFPqdm_h44q_6HhuHnqUkJ',
            1012750023: 'w9dJ0xsHc8kbjX8FWw_Dfl',
            1012750027: 'n_EsLzeeeHzdZfC2JoprrY',
            1012770014: 'gjg66BuNbR2Q6URwXwVqnj',
            1012770069: 'B-czHjrpEzL9j-fX7W-p81',
            1012780014: 'zyrEeL6a1-WkS8Woqh_WTX',
            1012810069: '05rqhwzNrBclWycdbwKSYV',
            1012830017: 'SCmiHyFgJ_rkdeMvqb1Ydy',
            1012830069: 'UueBfyh-YnW1tgQgd20_in',
            1012840007: 'ff3OHvdj5ejn8TkGQnNuXr',
            1012840056: 'wCZpwP7wDU7qfCND4rB2CY',
            1012850021: '3jmIKmTsDPab_YNFn1C-nX',
            1012870021: 'Kj4ZKMIjEGuEs6T_1Fqgx8',
            1012870033: 'qiwn6cFcLrEtdznu1T2P9K',
            1012870052: 'zS3bLBrZmah2ag1JZrkQxa',
            1012880001: 'Cg43FnoPBil7P2K86CL86t',
            1012880007: 'zuRYGRSB3zQiAQUE0x1utp',
            1012900044: 'BDAeYPg-P5JcFGzGJkGroX',
            1012910010: 'o8eQHnz_9JCxu2_5NrRxOO',
            1012910028: 'tAM6npr11SpIUGDFmow5pJ',
            1012910038: '7VvthHXl53NvdLt-txqm0i',
            1012910045: '7FjKS2srIQ08ArIRZ2NY1C',
            1012920037: 'sfB-QBdTexa4eEBwNTllsz',
            1012920048: 'g-caOCaI5U6ziMkLxHVsAC',
            1012920052: 'ngZJCAYDx-YHWB-zCvS45v',
            1012930026: 'NeNJxC2oNQwS38VJ8YQMwu',
            1012930035: 'fKSFKEd4R9SowbW-2Qs4PH',
            1012940046: 'Y31WzLMVMXp_KeszOM_Vfy',
            1012950020: 'VH-ROPEwJeITeDkVvasQ4n',
            1012950023: 'GxerazO9iV12BVy_cFRniY',
            1012950058: 'Ba8CSBQ_aGO1-G9HIonNTX',
            1012970023: 'LuZEGNONB5seWksuucyQw5',
            1013000001: 'MZs0jwU8gWUz_kj18Ccu0o',
            1013000033: 'OnXskT-8k_b9hYSXWWLwww',
            1013010001: 'x9IhFsuOx6mePvCf8M3_5c',
            1013010023: 'uDkq4f23pNH2dkVA8NSoCs',
            1013010033: 'ssAhdbJ9N1YqS8F5E00X0g',
            1013030001: 'CqsciI0mA-gX41jqtY2Mal',
            1013030033: 'gcD8CZyiFqA4ViYo9XUlrq',
            1013040033: 'kbzMDleCTUb42TNoqIZmb0',
            1013050040: 'dobNbpP81PWbxIIMGIRweH',
            1013070001: 'qb4FftIrWAR4RQlCWVmQ0N',
            1013080033: 'xdin4icoPZza-XShXfprgT',
            1013090023: '9un2H_wBbF_R7glsa6AkeI',
            1013120015: '8C9md7mOZw36Szsn31FV0V',
            1013120024: 'UmJkJU7Lun4dyomJ-osdqp',
            1013120041: 'DCVhnYEZT4p2jDhU89Htu7',
            1013130005: 'EhgjUN1Qsazhj_G8XYUMTn',
            1013150001: '2S-N-Sd2gdX7bumafloZY3',
            1013160001: 'P2LMAKMinfHbWDXmA289C6',
            1013170001: 'Bn88v7vwRdhXhFVsltmZhn',
            1013170021: '1Btie1BZWKhvupE2iTjtiB',
            1013180001: 'h7N8OVE4qn_orjl_JQJQdL',
            1013180033: 'VagORndUEIO7Ps5KWUoO4U',
            1013190047: 'fymiCtm__kEYyOa5TrjnN0',
            1013200046: 'YYiDuGQJ-C8JkF_q8e6X95',
            1013210001: 'sFWs-5xEBBJweLxwjlC3LY',
            1013210022: 'QDYKNFItY6kO5bNFSP63R3',
            1013210047: '-1dceWx8SSfVi1EJn8S9Rd',
            1013220001: 'lJSQ5AiTYDSrIqiY6KlLgN',
            1013230047: 'e-muIi96oKs77-nSXMD321',
            1013250001: '_SNaMamSSF3xwIiZovNrvE',
            1013260001: '1dgqSYpaAfG37BuEU5t60h',
            1013280001: 'PfBpjahgflpQgMwf6o_eGa',
            1013290001: 'O9TxwjVVUHtj8HYUhc-YHQ',
            1013320001: 'MTr8QO1D-oVOhDqkWk4Phy',
            1013740060: 'hiuiq_QrXvjosyBlzjLa8y',
            1013750016: '566ryV9XHfvJrupu1SJUlG',
            1013750021: 'etjR-LaxHGwszC7uL9rbW5',
            1013940013: 'g-Qzk97TPUkJDeKptaEEGZ',
            1014350044: '5VsNCd6QeENrtcNlfOFegK',
            1017740056: 'CaVRGRE4D8i3m8Tf3rGzFD',
            1018840001: '3mNATpygv_SSioNG36FIjx',
            1019670045: 'zDrhEM3pdC0iKakoYNWIf4',
            1019980017: 'fZlwVyREFDEqT2_wFksjV3',
            1021240043: '1qf3RrqN5TqnqIwoDjvUzM',
            1002310035: 'SKhU9lzpLi7ASrXlu84Uht',
            1005010015: 'w6H4nKeL4SiEVwNGSrTqhP',
            1005640007: '66dwVQALO_xTRN97vN0GXQ',
            1005770019: 'FkRoy6zorOv4ymxB9H2LlT',
            1005970055: 'cWu_5I3yUgGiinZa2xeDPH',
            1006970056: 'yJoPLpwnf8e4uvatjMRQru',
            1007310001: '0ZVIVGhjELYVHcwz7kdgLu',
            1007590031: 'maPIzLhPxwwta2XhB4lz4a',
            1007600012: 'ZURiJdzYwseTqumpd_6Y48',
            1007750058: 'DzJNB_cvbLo3arLqPuIcks',
            1007840077: '83vFewCVepvsmmtmCqyUG0',
            1007890030: '-98NhN9lmlmIk-8KJWfV3u',
            1007890075: 'tToFZ5FS17aO7gZLTMhOEJ',
            1008000068: 'MOyB359iM-u2WC8B50h3MX',
            1008070028: 'ObTU7uBH1H_E7XCisk3PHK',
            1008110062: 'NPKJwz3jI7aMQsOdUQILWa',
            1008120016: 'dAaXLpc0-e1BoOzhXSsSbn',
            1008120019: 'i5DFafZZVupAAIDXjxsoM2',
            1008220058: 'j50mbmLVqYj2RU6kPhjX31',
            1008220062: 'W0x0ngMTPMTCeWImm3kPKe',
            1008230073: 'CauPvM-RgpJ0Se7W4luRfw',
            1008380072: 'dvh9M5_F2siOind_QRw-8C',
            1008400013: 'mpuIAXkWtwJTbnCQ5jz7qj',
            1008400042: 'z16zfp5dbJTWbWNNAVBwJp',
            1008410001: '4vsZbSbG6h537w7hx0NrMM',
            1008410027: 's61ZQQZ-Fzxg7k7rxd9RDO',
            1008630006: 'sdVT8FuuuiHNK49XBgsr41',
            1008630029: 'wbVGm1fnv02U0RlHaCHlO4',
            1008680012: 'RQpFX5YbdtxK4ogW60QNvg',
            1008690020: '2qfzNDXEt2NwDd8p7wViBG',
            1008690064: 'pWlBUqZYGo6edRG7Xdul8w',
            1008810029: 'Vt9D2Uj3-mDkPPeleN-Igt',
            1008830001: 'OS7y49PLdUa2YR2fdfO_qN',
            1009950005: 'JiQwgg38xwEAgRs44fJ0l7',
            1010030029: 'RNtvIw6zYHdY6aphnEspnK',
            1010100021: 'Pt9WEGFxiYwqNOzYcHTHJR',
            1010130029: 'wqmrorxG0-7-77pbKptsNp',
            1011130008: 'GW54pkenU9_0LwNb6_7XPF',
            1012620001: 'pEF1cK2B5VeF6djvj73Fcw',
            1012840002: '6Z_m2Y3gJepGY4S89Q1BFP',
            1012980023: 'Q541I-fixNeniOUbpLX-3A',
            1013910014: 'NN39vR_4q3d-MhmXC_p6oF',
            1022150824: 'Dv6_YLocuTpAtWJ4bkmmM0'
        };
        
        const videoUrls = {};
        const entries = Object.entries(aerialVideos);
        console.log(`Fetching ${entries.length} video URLs...`);
        
        // Process in batches to avoid overwhelming the API
        const batchSize = 10;
        for (let i = 0; i < entries.length; i += batchSize) {
            const batch = entries.slice(i, i + batchSize);
            
            await Promise.all(batch.map(async ([bbl, videoId]) => {
                try {
                    const response = await fetch(`https://aerialview.googleapis.com/v1/videos:lookupVideo?key=${API_KEY}&videoId=${videoId}`);
                    const data = await response.json();
                    
                    if (data.state === 'ACTIVE' && data.uris) {
                        const videoUri = data.uris.MP4_HIGH?.landscapeUri || 
                                       data.uris.MP4_HIGH?.portraitUri || 
                                       data.uris.MP4_MEDIUM?.landscapeUri;
                        
                        if (videoUri) {
                            videoUrls[bbl] = videoUri;
                            console.log(`Fetched video URL for BBL ${bbl}`);
                        }
                    }
                } catch (error) {
                    console.error(`Failed to fetch video for BBL ${bbl}:`, error);
                }
            }));
            
            // Small delay between batches
            if (i + batchSize < entries.length) {
                await new Promise(resolve => setTimeout(resolve, 500));
            }
        }
        
        // Store in sessionStorage
        sessionStorage.setItem('aerialVideoUrls', JSON.stringify(videoUrls));
        console.log(`Stored ${Object.keys(videoUrls).length} video URLs in sessionStorage`);
    }
    
    // Call on page load
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(fetchAllAerialVideos, 1000);
    });
    </script>
    
    <!-- Back to Top Button -->
    <button id="backToTop" onclick="scrollToTop()" style="
        position: fixed;
        bottom: 80px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: var(--rzero-primary);
        color: white;
        border: none;
        border-radius: 50%;
        font-size: 20px;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 1000;
        display: none;
    ">
        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
        </svg>
    </button>
    
    <div style="text-align: center; color: black; font-size: 14px; padding: 20px 0;">
        Build: {datetime.now(pytz.timezone('America/Mexico_City')).strftime('%I:%M:%S %p CST')} | pano fix test{' | ' + sys.argv[1] if len(sys.argv) > 1 else ''}
    </div>
</body>
</html>
